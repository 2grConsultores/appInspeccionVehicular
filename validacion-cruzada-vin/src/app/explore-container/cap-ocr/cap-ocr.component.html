
<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Captura de VINs a la vista
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" >
  <div id="container">
    <div class="cuerpo formulario" *ngIf="!mostrarResutlado">
      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-card>
              <img alt="parabrisas" src="../../../assets/botonesVisibles/parabrisas.png" />
              <ion-card-header>
                <ion-card-title>
                  <ion-button shape="round" (click)="capturaOCR('parabrisas')">
                    <ion-icon *ngIf="!capturaParabrisas" name="camera-outline"></ion-icon>
                    <ion-icon *ngIf="capturaParabrisas" name="checkmark-circle"></ion-icon>
                  </ion-button>
                </ion-card-title>
              </ion-card-header>
            </ion-card>
          </ion-col>
          <ion-col>
            <ion-card>
              <img alt="puerta" src="../../../assets/botonesVisibles/puerta.png" />
              <ion-card-header>
                <ion-card-title>
                  <ion-button shape="round" (click)="capturaOCR('puerta')">
                    <ion-icon *ngIf="!capturaPuerta" name="camera-outline"></ion-icon>
                    <ion-icon *ngIf="capturaPuerta" name="checkmark-circle"></ion-icon>
                  </ion-button>
                </ion-card-title>
              </ion-card-header>
            </ion-card>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-card>
              <img alt="factura" src="../../../assets/botonesVisibles/factura.png" />
              <ion-card-header>
                <ion-card-title>
                  <ion-button shape="round" (click)="capturaOCR('factura')">
                    <ion-icon *ngIf="!capturaFactura" name="camera-outline"></ion-icon>
                    <ion-icon *ngIf="capturaFactura" name="checkmark-circle"></ion-icon>
                  </ion-button>
                </ion-card-title>
              </ion-card-header>
            </ion-card>
          </ion-col>
          <ion-col>
            <ion-card>
              <img alt="tarjeta-circulacion" src="../../../assets/botonesVisibles/tarjeta-circulacion.png" />
              <ion-card-header>
                <ion-card-title>
                  <ion-button shape="round" (click)="capturaOCR('tarjeta-circulacion')">
                    <ion-icon *ngIf="!capturaTarjetaCirculacion" name="camera-outline"></ion-icon>
                    <ion-icon *ngIf="capturaTarjetaCirculacion" name="checkmark-circle"></ion-icon>
                  </ion-button>
                </ion-card-title>
              </ion-card-header>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-alert
        [isOpen]="isAlertOpen"
        header="Validar VIN obtenido"
        message="{{mensajeAlert}}"
        [buttons]="alertButtons"
        (didDismiss)="setOpen(false)"
      ></ion-alert>
<!-- 
      <ion-button expand="block"  style="margin-top: 30px;" id="open-loading" (click)="IconoResultado()">Comparar resultados</ion-button>
      <ion-loading class="custom-loading"  trigger="open-loading" message="Comparando resultados" [duration]="3000"></ion-loading> -->
    </div>
    <div *ngIf="mostrarTablaComparacion">
      <h1>Tabla de comparación</h1>
      <ion-item class="my-5" *ngIf="mostrarVinParabrisas" >
        <ion-icon name="custom-parabrisas" slot="start"></ion-icon>
        <ion-label ><p>Parabrisas</p><h2 class="bold">{{ resultadoVinParabrisas }}</h2>  </ion-label>
        <ion-chip class="{{colorResultado}}" *ngIf="mostrarIcono"><ion-icon name="{{iconoResultado}}"></ion-icon></ion-chip>
      </ion-item>
      <ion-item class="my-5" *ngIf="mostrarVinPuerta">
        <ion-icon name="custom-puerta" slot="start"></ion-icon>
        <ion-label  ><p>Puerta</p><h2 class="bold">{{ resultadoVinPuerta }}</h2></ion-label>
        <ion-chip class="{{colorResultado}}" *ngIf="mostrarIcono"><ion-icon name="{{iconoResultado}}"></ion-icon></ion-chip>
      </ion-item>
      <ion-item class="my-5" *ngIf="mostrarVinFactura">
        <ion-icon name="custom-factura" slot="start"></ion-icon>
        <ion-label  ><p>Factura</p><h2 class="bold">{{ resultadoVinFactura }}</h2></ion-label>
        <ion-chip class="{{colorResultado}}" *ngIf="mostrarIcono"><ion-icon name="{{iconoResultado}}"></ion-icon></ion-chip>
      </ion-item>
      <ion-item class="my-5" *ngIf="mostrarVinTarjeta">
        <ion-icon name="custom-tarjetaCirculacion" slot="start"></ion-icon>
        <ion-label  ><p>Tarjeta de circulación</p><h2 class="bold">{{ resultadoVinTarjeta }}</h2></ion-label>
        <ion-chip class="{{colorResultado}}" *ngIf="mostrarIcono"><ion-icon name="{{iconoResultado}}"></ion-icon></ion-chip>
      </ion-item>
    </div>
    <div class="cuerpo" *ngIf="mostrarIcono">
      <p *ngIf="colorResultado == 'rojo'" >La comparación de los VINs no coincide, es probable se tenga un problema </p>
      <ion-button *ngIf="colorResultado == 'verde'" expand="block"  style="margin-top: 30px;" shape="round" (click)="linkCapturaOBD(validacionId)" >Siguiente</ion-button>
      <ion-button expand="block"  style="margin-top: 30px;" shape="round" (click)="linkHome(validacionId)" >Cencelar</ion-button>
    </div>


  </div>

</ion-content>
